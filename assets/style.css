/* ===== Base Theme ===== */
:root{
  --bg:#0a0b0d;
  --panel:#101218;
  --text:#e7e9ee;
  --muted:#a9afbd;
  --good:#22c55e;
  --warn:#f59e0b;
  --bad:#ef4444;
  --track:#0e1117;
  --track-border:#1b2230;
  --accent:#ffd166;
  --cyan:#00e5ff;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
.container{max-width:960px;margin:0 auto;padding:16px}
.site-header{background:var(--panel);border-bottom:1px solid var(--track-border);position:sticky;top:0;z-index:10}
.header-inner{display:flex;align-items:center;justify-content:space-between;gap:12px}
.brand{margin:0;font-size:1.2rem}
.nav a{color:var(--muted);text-decoration:none;margin-left:12px;padding:8px 10px;border-radius:8px}
.nav a[aria-current="page"],.nav a:hover{color:var(--text);background:#171b24}
.hero.compact{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.subtitle{color:var(--muted)}
.controls-row{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.btn{border:1px solid var(--track-border);background:#141822;color:var(--text);padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:600}
.btn[disabled]{opacity:.6;cursor:not-allowed}
.btn.primary{background:linear-gradient(180deg,#1a2333,#151b27);border-color:#202a3d;box-shadow:inset 0 0 0 1px #26324a}
.toggle{display:inline-flex;align-items:center;gap:8px;color:var(--muted)}
.center-readout{display:grid;place-items:center;margin:12px 0 8px 0;position:relative}
.center-readout::before{content:"";position:absolute;inset:0;margin:auto;width:340px;height:340px;border-radius:50%;background:radial-gradient(closest-side,rgba(0,229,255,.06),transparent 70%);filter:blur(12px);pointer-events:none}
.cents-big{font-size:3rem;font-weight:800;letter-spacing:.2px}
.note-big{font-size:3.2rem;font-weight:900;margin-top:2px}
.freq-small{color:var(--muted);margin-top:2px}
.cents-big.good,.note-big.good{color:var(--good)}
.cents-big.warn,.note-big.warn{color:var(--warn)}
.cents-big.bad,.note-big.bad{color:var(--bad)}
.courses{margin-top:8px}
.course-row{display:grid;grid-template-columns:repeat(6,1fr);gap:14px}
.course{position:relative;height:180px;background:#0c0f15;border:1px solid var(--track-border);border-radius:14px;padding:10px;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;overflow:hidden;box-shadow:inset 0 1px 0 rgba(255,255,255,.03),inset 0 0 0 1px rgba(255,255,255,.02),0 6px 20px rgba(0,0,0,.24)}
.course .string{position:absolute;top:10px;bottom:10px;width:2px;background:#e6cf99;opacity:.85;border-radius:2px}
.course .label{position:absolute;bottom:10px;left:10px;color:#b9c2d3;font-size:.85rem}
.course .label .main{font-variant:small-caps;letter-spacing:.6px;color:#e3e6ee}
.course .label .sub{opacity:.75}
.course .pill{position:absolute;right:10px;bottom:10px;width:56px;height:140px;background:#1a1f28;border-radius:20px 20px 12px 12px;opacity:0;transform:translateY(8px);transition:opacity .12s ease,transform .12s ease,background .12s ease;outline:1px solid rgba(255,255,255,.08);box-shadow:inset 0 8px 16px rgba(0,0,0,.25),0 8px 20px rgba(0,0,0,.20)}
.course.active .pill{opacity:.85;transform:translateY(0)}
.course.active.good .pill{background:linear-gradient(180deg,var(--good),#1a2a22);animation:inTunePulse 1.2s ease-in-out infinite}
.course.active.warn .pill{background:linear-gradient(180deg,var(--warn),#2a241a)}
.course.active.bad .pill{background:linear-gradient(180deg,var(--bad),#2a1a1a)}
.course.active .string{box-shadow:0 0 12px rgba(0,229,255,.25)}
@keyframes inTunePulse{0%{box-shadow:0 0 18px rgba(34,197,94,.18)}50%{box-shadow:0 0 26px rgba(34,197,94,.28)}100%{box-shadow:0 0 18px rgba(34,197,94,.18)}}
@media (max-width:720px){.course{height:150px}.course-row{gap:10px}.note-big{font-size:2.6rem}.cents-big{font-size:2.6rem}}
.meter-linear{margin-top:14px}
.ruler{margin-top:8px}
.meter-scale{display:flex;justify-content:space-between;color:var(--muted);font-size:.85rem;padding:6px 4px}
.readout-block{display:grid;justify-items:center;gap:6px;margin-top:8px}
.level-bar.modern{position:relative;height:10px;width:100%;max-width:560px;background:#121722;border:1px solid var(--track-border);border-radius:999px;overflow:hidden}
.level-fill{position:absolute;height:100%;width:0%;background:linear-gradient(90deg,#38bdf8,#22c55e);transition:width .08s linear}
.site-footer{border-top:1px solid var(--track-border);margin-top:24px;padding:12px 0;color:var(--muted)}
body::before{content:"";position:fixed;inset:0;pointer-events:none;z-index:-1;background:radial-gradient(1200px 600px at 70% -10%,rgba(0,229,255,.06),transparent 60%),radial-gradient(1000px 800px at -10% 110%,rgba(56,210,109,.05),transparent 60%),radial-gradient(700px 500px at 120% 50%,rgba(255,209,102,.05),transparent 60%);filter:saturate(1.1)}
body::after{content:"";position:fixed;inset:0;pointer-events:none;z-index:-1;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity=".02"/></svg>');background-size:200px 200px}
.cb-safe .course.active.bad .pill{background:linear-gradient(180deg,#3b82f6,#1e2a44)!important}
.cb-safe .course.active.good .pill{background:linear-gradient(180deg,#facc15,#2a2816)!important}
.cb-safe .cents-big.good,.cb-safe .note-big.good{color:#facc15!important}
.cb-safe .cents-big.bad,.cb-safe .note-big.bad{color:#60a5fa!important}
.theme-wood .course{background:linear-gradient(180deg,#1a1410,#0f0b08);border-color:#3a2a1e}
.theme-wood .course .string{background:#d9c08f}
.theme-wood .meter-linear canvas{background:linear-gradient(180deg,rgba(48,34,24,.5),rgba(17,14,10,.85));border:1px solid #3a2a1e}
.theme-wood body::before{filter:saturate(0.9) hue-rotate(-8deg)}
